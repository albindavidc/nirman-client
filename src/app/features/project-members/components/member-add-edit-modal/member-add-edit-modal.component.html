<div class="edit-member-modal text-white">
  <h2 class="modal-title">
    {{ mode === "add" ? "Add New Member" : "Edit Member" }}
  </h2>

  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <div class="form-row">
      <div class="form-field">
        <label class="field-label">First Name *</label>
        <mat-form-field appearance="outline">
          <mat-icon matPrefix>person</mat-icon>
          <input
            matInput
            formControlName="firstName"
            placeholder="First Name"
          />
          <mat-error *ngIf="form.get('firstName')?.hasError('required')"
            >Required</mat-error
          >
          <mat-error *ngIf="form.get('firstName')?.hasError('minlength')"
            >Min 2 characters</mat-error
          >
        </mat-form-field>
      </div>
      <div class="form-field">
        <label class="field-label">Last Name *</label>
        <mat-form-field appearance="outline">
          <mat-icon matPrefix>person</mat-icon>
          <input matInput formControlName="lastName" placeholder="Last Name" />
          <mat-error *ngIf="form.get('lastName')?.hasError('required')"
            >Required</mat-error
          >
          <mat-error *ngIf="form.get('lastName')?.hasError('minlength')"
            >Min 2 characters</mat-error
          >
        </mat-form-field>
      </div>
    </div>

    <div class="form-field">
      <label class="field-label">Email Address *</label>
      <mat-form-field appearance="outline">
        <mat-icon matPrefix>email</mat-icon>
        <input
          matInput
          formControlName="email"
          placeholder="john@example.com"
        />
        <mat-error *ngIf="form.get('email')?.hasError('required')"
          >Required</mat-error
        >
        <mat-error *ngIf="form.get('email')?.hasError('email')"
          >Invalid email</mat-error
        >
      </mat-form-field>
    </div>

    <div class="form-row">
      <div class="form-field">
        <label class="field-label">Phone Number *</label>
        <mat-form-field appearance="outline">
          <mat-icon matPrefix>phone</mat-icon>
          <input
            matInput
            formControlName="phone"
            placeholder="+1 234 567 8900"
          />
          <mat-error *ngIf="form.get('phone')?.hasError('required')"
            >Required</mat-error
          >
          <mat-error *ngIf="form.get('phone')?.hasError('pattern')"
            >Please enter a valid 10-digit number</mat-error
          >
        </mat-form-field>
      </div>
      <div class="form-field">
        <label class="field-label">Role *</label>
        <mat-form-field appearance="outline">
          <mat-icon matPrefix>badge</mat-icon>
          <mat-select formControlName="role">
            <mat-option value="supervisor">Supervisor</mat-option>
            <mat-option value="worker">Worker</mat-option>
          </mat-select>
          <mat-error *ngIf="form.get('role')?.hasError('required')"
            >Required</mat-error
          >
        </mat-form-field>
      </div>
    </div>

    <h3 class="section-title">Member Details</h3>

    <div class="form-row">
      <div class="form-field">
        <label class="field-label">Job Title</label>
        <mat-form-field appearance="outline">
          <mat-icon matPrefix>work</mat-icon>
          <input
            matInput
            formControlName="professionalTitle"
            placeholder="e.g. Site Engineer"
          />
        </mat-form-field>
      </div>
      <div class="form-field">
        <label class="field-label">Experience (Years)</label>
        <mat-form-field appearance="outline">
          <mat-icon matPrefix>history</mat-icon>
          <input
            matInput
            type="number"
            formControlName="experienceYears"
            placeholder="0"
          />
        </mat-form-field>
      </div>
    </div>

    <div class="form-field">
      <label class="field-label">Skills (comma separated)</label>
      <mat-form-field appearance="outline">
        <mat-icon matPrefix>handyman</mat-icon>
        <input
          matInput
          formControlName="skills"
          placeholder="Welding, Plumbing"
        />
      </mat-form-field>
    </div>

    <h3 class="section-title">Address</h3>

    <div class="form-field">
      <label class="field-label">Street Address</label>
      <mat-form-field appearance="outline">
        <mat-icon matPrefix>location_on</mat-icon>
        <input
          matInput
          formControlName="addressStreet"
          placeholder="123 Main St"
        />
      </mat-form-field>
    </div>

    <div class="form-row">
      <div class="form-field">
        <label class="field-label">City</label>
        <mat-form-field appearance="outline">
          <mat-icon matPrefix>location_city</mat-icon>
          <input matInput formControlName="addressCity" placeholder="City" />
        </mat-form-field>
      </div>
      <div class="form-field">
        <label class="field-label">State</label>
        <mat-form-field appearance="outline">
          <mat-icon matPrefix>map</mat-icon>
          <input matInput formControlName="addressState" placeholder="State" />
        </mat-form-field>
      </div>
    </div>

    <div class="form-field">
      <label class="field-label">Zip Code</label>
      <mat-form-field appearance="outline">
        <mat-icon matPrefix>pin_drop</mat-icon>
        <input
          matInput
          formControlName="addressZipCode"
          placeholder="Zip Code"
        />
      </mat-form-field>
    </div>

    <div class="form-actions">
      <button
        mat-stroked-button
        type="button"
        (click)="onCancel()"
        class="cancel-btn"
      >
        Cancel
      </button>
      <button
        mat-flat-button
        type="submit"
        class="save-btn"
        [disabled]="form.invalid"
      >
        {{ mode === "add" ? "Add Member" : "Save Changes" }}
      </button>
    </div>
  </form>
</div>
